dist: xenial

language: python

compiler: g++

python:
  - 3.6

env:
  global:
    - TRAVIS_CI=true

# install:
#   - pip install pipenv
#   - pipenv install --dev --deploy

cache: pip

jobs:
  include:
    - stage: "install"
      # script: pip install pipenv; pipenv install --dev --deploy
      script: pip install pipenv; pipenv lock --dev --requirements > requirements.txt; pip install -r requirements.txt
    - stage: "test"
      script: flake8 --show-source --select=E999,E722,W291,W292,W293,W391,F403
    - script: pipenv check
    - script: ./test.py -s


stages:
  - install
  - test